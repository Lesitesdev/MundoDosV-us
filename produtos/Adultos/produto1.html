<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Detalhes do Produto - Mundo dos V√©us</title>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet" />
  <!-- Swiper.js para o carrossel de imagens -->
  <link rel="stylesheet" href="https://unpkg.com/swiper/swiper-bundle.min.css" />
</head>
<body class="bg-pink-50 text-gray-800">


  


  
  <!-- HEADER -->
 

  <header class="bg-white shadow-md px-6 py-4">
    <div class="max-w-6xl mx-auto flex items-center">
      <!-- Logo -->
      <a href="index.html" class="text-2xl font-bold text-purple-700">Mundo dos V√©us</a>

      <!-- Navega√ß√£o -->
      <nav class="ml-8 hidden md:flex space-x-6">
        <a href="index.html"    class="text-gray-700 hover:text-purple-700">In√≠cio</a>
        <a href="produtos.html" class="text-gray-700 hover:text-purple-700">Produtos</a>
        <a href="sobre.html"    class="text-gray-700 hover:text-purple-700">Sobre</a>
        <a href="contato.html"  class="text-gray-700 hover:text-purple-700">Contato</a>
        <a href="cliente.html" id="account-link" class="text-gray-700 hover:text-purple-700 hidden">Meu Cadastro</a>
      </nav>

      <div class="flex-1"></div>

      <!-- Carrinho -->
      <a href="carrinho.html" class="text-2xl text-gray-700 hover:text-purple-700 mr-6">üõí</a>

      <!-- Sauda√ß√£o + Logout (s√≥ logado) -->
      <div id="user-info" class="flex items-center space-x-2 hidden">
        <span id="saudacao" class="text-gray-700"></span>
        <button id="logout-link" class="text-gray-700 hover:text-purple-700">üö™ Logout</button>
      </div>

      <!-- Login (s√≥ n√£o-logado) -->
      <a href="login.html" id="login-link" class="text-gray-700 hover:text-purple-700">üë§ Login</a>
    </div>
  </header>
  
  <div id="carrinho-lateral" class="fixed top-24 right-4 w-72 bg-white shadow-lg rounded-xl p-4 border border-purple-300 z-50 transform transition-transform duration-300 ease-in-out">
    <div class="flex justify-between items-center mb-4">
      <h3 class="text-xl font-bold text-purple-700">üõí Seu Carrinho</h3>
      <button id="fechar-carrinho" class="text-purple-700 text-2xl font-bold hover:text-purple-900">&times;</button>
    </div>
  
    <!-- Lista de Itens no Carrinho -->
    <ul id="itens-carrinho" class="space-y-2 max-h-64 overflow-y-auto"></ul>
  
    <!-- Total do Carrinho -->
    <p class="text-lg font-semibold mt-4">Total: R$ <span id="total-carrinho">0.00</span></p>
  
    <!-- Bot√£o de Finalizar Compra -->
    <a href="/carrinho.html" target="_blank"
       class="inline-block mt-4 bg-purple-700 text-white text-lg font-semibold px-4 py-2 rounded-lg hover:bg-purple-800 transition">
      Finalizar Compra
    </a>
  </div>
  

  <!-- Seta para Voltar √† P√°gina de Produtos -->
 <!-- Seta para Voltar √† P√°gina Anterior -->
<div class="mt-6 ml-6">
  <button onclick="window.history.back()" class="flex items-center text-purple-600 hover:text-purple-800">
    <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 12H5" />
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 19l-7-7 7-7" />
    </svg>
    Voltar √† lista de produtos
  </button>
</div>


  <!-- Detalhes do Produto -->
  <section class="p-6 bg-white max-w-6xl mx-auto mt-8">
    <div class="flex w-full gap-0"> <!-- Removido gap e adicionado w-full -->
      <!-- Carrossel de Imagens -->
      <div class="w-full relative"> <!-- Altere a largura para w-full -->
        <!-- Imagem -->
        <div class="overflow-hidden w-full h-96">
          <img id="produto-img" src="/imagens/cole√ßao.avif" alt="V√©u Branco Rendado" class="w-full h-full object-contain" />
        </div>
    
        <!-- Setas de Navega√ß√£o -->
        <button id="prev" class="absolute top-1/2 left-4 transform -translate-y-1/2 bg-purple-700 text-white rounded-full p-2 hover:bg-purple-800">
          &#8249;
        </button>
        <button id="next" class="absolute top-1/2 right-4 transform -translate-y-1/2 bg-purple-700 text-white rounded-full p-2 hover:bg-purple-800">
          &#8250;
        </button>
      </div>
    </div>
  </section>
  
  <!-- Detalhes do Produto -->
  <section class="p-6 bg-white max-w-6xl mx-auto mt-8">
    <div class="flex justify-center"> <!-- Centraliza o conte√∫do -->
      <div class="w-full sm:w-1/2 text-center"> <!-- Centraliza o conte√∫do e aplica largura responsiva -->
        <h1 class="text-3xl font-semibold mb-4">V√©u Branco Rendado</h1>
        <p class="text-gray-600 mb-4">Descri√ß√£o detalhada do produto: Este v√©u √© ideal para noivas que desejam um toque de sofistica√ß√£o e delicadeza para o grande dia. O tecido leve e a cor neutra fazem deste v√©u a escolha perfeita para combinar com diferentes estilos de vestidos de noiva.</p>
        <p class="text-xl font-bold text-purple-600">R$ 49,90</p>
  
      
  
        <!-- Sele√ß√£o de Quantidade -->
        <div class="mt-4 mb-4">
          <label for="quantidade" class="block font-medium">Quantidade:</label>
          <input type="number" id="quantidade" min="1" value="1" class="p-2 border rounded-md mt-2 w-full" />
        </div>
  
       <!-- Bot√£o Comprar -->
       <button class="adicionar-ao-carrinho bg-purple-600 text-white py-2 px-6 rounded-full hover:bg-purple-700"
       data-nome="V√©u Branco Rendado"
       data-preco="49.90">
 Adicionar ao Carrinho
</button>

        
        <!-- Mais Informa√ß√µes do Produto -->
        <div class="mt-8">
          <h3 class="text-xl font-semibold mb-4">Mais Detalhes</h3>
          <p class="text-gray-600">Material: Renda delicada e macia. Este v√©u √© perfeito para quem procura algo sofisticado, mas ao mesmo tempo suave ao toque. Seu design foi desenvolvido para trazer leveza ao visual.</p>
          <p class="text-gray-600 mt-4">Cor: Branco Neve. Ideal para noivas que preferem uma tonalidade mais cl√°ssica e tradicional, garantindo um look atemporal e elegante.</p>
        </div>
      </div>
    </div>
  </section>

  <!-- FOOTER -->
  <footer class="bg-purple-800 text-white py-10 mt-10">
    <div class="max-w-6xl mx-auto grid grid-cols-1 md:grid-cols-4 gap-8 px-4">
      <div>
        <h4 class="font-bold mb-2">Contato</h4>
        <p>üì± WhatsApp: (11) 91234-5678</p>
        <p>‚úâÔ∏è Email: contato@mundodosveus.com</p>
      </div>
      <div>
        <h4 class="font-bold mb-2">Links √öteis</h4>
        <ul>
          <li><a href="#" class="hover:underline">Pol√≠tica de Troca</a></li>
          <li><a href="#" class="hover:underline">Frete e Entrega</a></li>
          <li><a href="#" class="hover:underline">Termos e Condi√ß√µes</a></li>
        </ul>
      </div>
      <div>
        <h4 class="font-bold mb-2">Redes Sociais</h4>
        <p><a href="#" class="hover:underline">Instagram</a></p>
        <p><a href="#" class="hover:underline">Facebook</a></p>
        <p><a href="#" class="hover:underline">Pinterest</a></p>
      </div>
      <div>
        <h4 class="font-bold mb-2">Formas de Pagamento</h4>
        <p>üí≥ Cart√µes | Pix | Boleto</p>
        <img src="https://www.mercadopago.com.br/org-img/MP3/home/logos/visa.gif" alt="Visa" class="inline w-10">
        <img src="https://www.mercadopago.com.br/org-img/MP3/home/logos/master.gif" alt="MasterCard" class="inline w-10">
        <img src="https://www.mercadopago.com.br/org-img/MP3/home/logos/pix.gif" alt="Pix" class="inline w-10">
      </div>
    </div>
    <p class="text-center mt-6 text-sm text-purple-200">¬© 2025 Mundo dos V√©us. Todos os direitos reservados.</p>
  </footer>

  <!-- Script para Navega√ß√£o das Imagens -->
  <script>
    let currentImageIndex = 0;
    const images = [
      "/imagens/Nossos produtos/infantis.jpg",  // Imagem 1
      "/imagens/Nossos produtos/Rendas.jpg", // Imagem 2
      "/imagens/Nossos produtos/Veus Noiva.jpg", // Imagem 3
      "/imagens/Nossos produtos/veus tradicional.jpg", // Imagem 4
    ];

    const produtoImg = document.getElementById('produto-img');

    // Fun√ß√£o para ir para a pr√≥xima imagem
    function nextImage() {
      currentImageIndex = (currentImageIndex + 1) % images.length;
      produtoImg.src = images[currentImageIndex];
    }

    // Fun√ß√£o para voltar √† imagem anterior
    function prevImage() {
      currentImageIndex = (currentImageIndex - 1 + images.length) % images.length;
      produtoImg.src = images[currentImageIndex];
    }

    // Eventos das setas
    document.getElementById('next').addEventListener('click', nextImage);
    document.getElementById('prev').addEventListener('click', prevImage);
  </script>


<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/9.22.2/firebase-app.js";
  import { getAuth, onAuthStateChanged, signOut } from "https://www.gstatic.com/firebasejs/9.22.2/firebase-auth.js";
  import { getFirestore, doc, getDoc } from "https://www.gstatic.com/firebasejs/9.22.2/firebase-firestore.js";

  // Configura√ß√£o do Firebase
  const firebaseConfig = {
    apiKey: "AIzaSyD9FSLA-EOGRgvDbbaBqBge7j8gRl4WJkI",
    authDomain: "loja-de-veus.firebaseapp.com",
    projectId: "loja-de-veus",
    storageBucket: "loja-de-veus.appspot.com",
    messagingSenderId: "907809130966",
    appId: "1:907809130966:web:800dae192863cddbc2fc77",
    measurementId: "G-XDRVKSRMQP"
  };

  // Inicializa√ß√£o do Firebase
  const app = initializeApp(firebaseConfig);
  const auth = getAuth(app);
  const db = getFirestore(app);

  // Refer√™ncias ao DOM
  const userInfoEl = document.getElementById("user-info");
  const loginLinkEl = document.getElementById("login-link");
  const saudacaoEl = document.getElementById("saudacao");
  const logoutBtnEl = document.getElementById("logout-link");
  const accountLinkEl = document.getElementById("account-link");

  // Verifica estado de autentica√ß√£o
  onAuthStateChanged(auth, async user => {
    if (user) {
      // Busca o nome do Firestore ou fallback
      let nome = user.displayName || "";
      try {
        const snap = await getDoc(doc(db, "usuarios", user.uid));
        if (snap.exists() && snap.data().nome) nome = snap.data().nome;
      } catch (e) {
        console.warn("Erro ao buscar nome:", e);
      }

      // Exibe as informa√ß√µes de login
      saudacaoEl.textContent = `Ol√°, ${nome || user.email.split("@")[0]}!`;
      userInfoEl.classList.remove("hidden");
      loginLinkEl.classList.add("hidden");
      accountLinkEl.classList.remove("hidden");
    } else {
      userInfoEl.classList.add("hidden");
      loginLinkEl.classList.remove("hidden");
      accountLinkEl.classList.add("hidden");
    }
  });

  // Fun√ß√£o de logout
  logoutBtnEl?.addEventListener("click", () => {
    signOut(auth)
      .then(() => window.location.href = "login.html")
      .catch(err => console.error(err));
  });
</script>
<script>
  // Fun√ß√£o para adicionar produto ao carrinho
  document.querySelectorAll('.adicionar-ao-carrinho').forEach(button => {
    button.addEventListener('click', function () {
      const nome = this.getAttribute('data-nome');
      const preco = parseFloat(this.getAttribute('data-preco'));
      
      // Pega o carrinho do localStorage, ou cria um novo se n√£o existir
      const carrinho = JSON.parse(localStorage.getItem('carrinho')) || [];

      // Verifica se o item j√° est√° no carrinho
      const itemExistente = carrinho.find(item => item.nome === nome);
      
      if (itemExistente) {
        // Se o item j√° existir, incrementa a quantidade
        itemExistente.quantidade++;
      } else {
        // Caso contr√°rio, adiciona o novo item
        carrinho.push({ nome, preco, quantidade: 1 });
      }
      
      // Salva o carrinho atualizado no localStorage
      localStorage.setItem('carrinho', JSON.stringify(carrinho));

      // Atualiza o carrinho na tela
      atualizarCarrinho();
    });
  });

  // Fun√ß√£o para atualizar o carrinho
  function atualizarCarrinho() {
    const carrinho = JSON.parse(localStorage.getItem('carrinho')) || [];
    const carrinhoElement = document.getElementById('itens-carrinho');
    const totalElement = document.getElementById('total-carrinho');
    
    // Limpa o conte√∫do atual do carrinho
    carrinhoElement.innerHTML = '';

    // Atualiza a lista de itens no carrinho
    let total = 0;
    carrinho.forEach((item, index) => {
      const itemElement = document.createElement('li');
      itemElement.classList.add('flex', 'justify-between', 'items-center');
      
      // Adiciona a descri√ß√£o do item com bot√µes de adicionar/remover
      itemElement.innerHTML = `
        <span>${item.nome} - R$ ${item.preco}</span>
        <div class="flex items-center space-x-2">
          <button class="bg-purple-500 text-white py-1 px-2 rounded-full hover:bg-purple-600 transition-all" onclick="alterarQuantidade(${index}, -1)">-</button>
          <span class="font-semibold">${item.quantidade}</span>
          <button class="bg-purple-500 text-white py-1 px-2 rounded-full hover:bg-purple-600 transition-all" onclick="alterarQuantidade(${index}, 1)">+</button>
          <button class="text-red-500 font-bold hover:text-red-600" onclick="removerDoCarrinho(${index})">X</button>
        </div>
      `;
      
      carrinhoElement.appendChild(itemElement);
      total += item.preco * item.quantidade;
    });

    // Atualiza o total do carrinho
    totalElement.textContent = total.toFixed(2);
  }

  // Fun√ß√£o para alterar a quantidade de um item no carrinho
  function alterarQuantidade(index, delta) {
    const carrinho = JSON.parse(localStorage.getItem('carrinho')) || [];
    
    // Altera a quantidade, evitando que fique negativa
    carrinho[index].quantidade = Math.max(1, carrinho[index].quantidade + delta);
    
    // Atualiza o carrinho no localStorage
    localStorage.setItem('carrinho', JSON.stringify(carrinho));

    // Atualiza a exibi√ß√£o do carrinho
    atualizarCarrinho();
  }

  // Fun√ß√£o para remover um item do carrinho
  function removerDoCarrinho(index) {
    const carrinho = JSON.parse(localStorage.getItem('carrinho')) || [];
    carrinho.splice(index, 1); // Remove o item da posi√ß√£o 'index'

    // Atualiza o carrinho no localStorage
    localStorage.setItem('carrinho', JSON.stringify(carrinho));

    // Atualiza a exibi√ß√£o do carrinho
    atualizarCarrinho();
  }

  // Fun√ß√£o para fechar o carrinho lateral
  document.getElementById('fechar-carrinho').addEventListener('click', () => {
    document.getElementById('carrinho-lateral').classList.add('transform', 'translate-x-full');
  });

  // Atualiza o carrinho quando a p√°gina carrega
  window.addEventListener('DOMContentLoaded', atualizarCarrinho);
</script>



</body>
</html>
