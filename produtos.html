<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Produtos - Mundo dos V√©us</title>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet" />
</head>
<body class="bg-pink-50 text-gray-800">

  <div id="carrinho-lateral" class="fixed top-24 right-4 w-72 bg-white shadow-lg rounded-xl p-4 border border-purple-300 z-50 hidden">
    <div class="flex justify-between items-center mb-4">
      <h3 class="text-xl font-bold text-purple-700">üõí Seu Carrinho</h3>
      <button id="fechar-carrinho" class="text-purple-700 text-2xl font-bold hover:text-purple-900">&times;</button>
    </div>
  
    <ul id="itens-carrinho" class="space-y-2 max-h-64 overflow-y-auto"></ul>
    <p class="text-lg font-semibold mt-4">Total: R$ <span id="total-carrinho">0.00</span></p>
  
    <!-- Finalizar Compra -->
    <a href="carrinho.html" id="finalizar-compra" class="inline-block mt-4 bg-purple-700 text-white text-lg font-semibold px-4 py-2 rounded-lg hover:bg-purple-800 transition">
      Finalizar Compra
    </a>
  </div>

  <header class="bg-white shadow-md px-6 py-4">
    <div class="max-w-6xl mx-auto flex items-center">
      <!-- Logo -->
      <a href="index.html" class="text-2xl font-bold text-purple-700">Mundo dos V√©us</a>

      <!-- Navega√ß√£o -->
      <nav class="ml-8 hidden md:flex space-x-6">
        <a href="index.html"    class="text-gray-700 hover:text-purple-700">In√≠cio</a>
        <a href="produtos.html" class="text-gray-700 hover:text-purple-700">Produtos</a>
        <a href="sobre.html"    class="text-gray-700 hover:text-purple-700">Sobre</a>
        <a href="contato.html"  class="text-gray-700 hover:text-purple-700">Contato</a>
        <a href="cliente.html" id="account-link" class="text-gray-700 hover:text-purple-700 hidden">Meu Cadastro</a>
      </nav>

      <div class="flex-1"></div>

      <!-- Carrinho -->
      <a href="carrinho.html" class="text-2xl text-gray-700 hover:text-purple-700 mr-6">üõí</a>

      <!-- Sauda√ß√£o + Logout (s√≥ logado) -->
      <div id="user-info" class="flex items-center space-x-2 hidden">
        <span id="saudacao" class="text-gray-700"></span>
        <button id="logout-link" class="text-gray-700 hover:text-purple-700">üö™ Logout</button>
      </div>

      <!-- Login (s√≥ n√£o-logado) -->
      <a href="login.html" id="login-link" class="text-gray-700 hover:text-purple-700">üë§ Login</a>
    </div>
  </header>
  


  <!-- CAT√ÅLOGO COM FILTRO -->
  <section class="p-6 bg-white max-w-7xl mx-auto mt-8">
    <h1 class="text-2xl font-bold mb-4">Todos os V√©us</h1>

    <!-- Filtros -->
  <!-- Filtros -->
<div class="flex flex-wrap gap-4 mb-6">
    <button id="btn-todos" class="filtro-btn px-4 py-2 bg-gray-200 text-gray-800 rounded-full" onclick="filtrarProdutos('todos', this)">Todos</button>
    <button id="btn-adulto" class="filtro-btn px-4 py-2 bg-gray-200 text-gray-800 rounded-full" onclick="filtrarProdutos('adulto', this)">Adulto</button>
    <button id="btn-infantil" class="filtro-btn px-4 py-2 bg-gray-200 text-gray-800 rounded-full" onclick="filtrarProdutos('infantil', this)">Infantil</button>
    <button id="btn-rendado" class="filtro-btn px-4 py-2 bg-gray-200 text-gray-800 rounded-full" onclick="filtrarProdutos('rendado', this)">Rendado</button>
  </div>
  

    

    <!-- Produtos -->
    <div class="grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-4 text-sm" id="lista-produtos">
      
      <!-- Produto adulto -->
      <div data-categoria="adulto" class="produto border rounded-xl shadow p-2 hover:shadow-lg transition" id="adulto">
        <img src="/imagens/Nossos produtos/Veus com rendas.jpg" alt="V√©u Branco" class="rounded-xl mb-2 w-full h-32 object-cover" />
        <h2 class="font-semibold">V√©u Branco Adulto</h2>
        <p class="text-gray-600">R$ 49,90</p>
        <a href="/produtos/Adultos/produto1.html" class="text-blue-600 hover:underline text-xs">Ver mais</a>
      </div>
      


      <!-- Produto infantil -->
      <div data-categoria="infantil" class="produto border rounded-xl shadow p-2 hover:shadow-lg transition" id="secao_kits">
        <img src="/imagens/Nossos produtos/Infantis.jpg" alt="V√©u Rosa" class="rounded-xl mb-2 w-full h-32 object-cover" />
        <h2 class="font-semibold">V√©u Infantil Rosa</h2>
        <p class="text-gray-600">R$ 39,90</p>
        <a href="/produtos/Adultos/produto1.html" class="text-blue-600 hover:underline text-xs">Ver mais</a>
      </div>
     
      <!-- Produto rendado -->
      <div data-categoria="rendado" class="produto border rounded-xl shadow p-2 hover:shadow-lg transition" id="secao_rendado">
        <img src="/imagens/Nossos produtos/Veus Noiva.jpg" alt="V√©u Rendado" class="rounded-xl mb-2 w-full h-32 object-cover" />
        <h2 class="font-semibold">V√©u Preto Rendado</h2>
        <p class="text-gray-600">R$ 59,90</p>
        <a href="/produtos/Adultos/produto1.html" class="text-blue-600 hover:underline text-xs">Ver mais</a>
      </div>
      

      <!-- Produto extra -->
      <div data-categoria="adulto" class="produto border rounded-xl shadow p-2 hover:shadow-lg transition">
        <img src="/imagens/Nossos produtos/Personalizados.jpeg" alt="V√©u Bege Adulto" class="rounded-xl mb-2 w-full h-32 object-cover" />
        <h2 class="font-semibold">V√©u Bege Adulto</h2>
        <p class="text-gray-600">R$ 44,90</p>
        <a href="/produtos/Adultos/produto1.html" class="text-blue-600 hover:underline text-xs">Ver mais</a>
      </div>
      

    </div>
  </section>

  <!-- FOOTER -->
  <footer class="bg-purple-800 text-white py-10 mt-10">
    <div class="max-w-6xl mx-auto grid grid-cols-1 md:grid-cols-4 gap-8 px-4">
      <div>
        <h4 class="font-bold mb-2">Contato</h4>
        <p>üì± WhatsApp: (11) 91234-5678</p>
        <p>‚úâÔ∏è Email: contato@mundodosveus.com</p>
      </div>
      <div>
        <h4 class="font-bold mb-2">Links √öteis</h4>
        <ul>
          <li><a href="#" class="hover:underline">Pol√≠tica de Troca</a></li>
          <li><a href="#" class="hover:underline">Frete e Entrega</a></li>
          <li><a href="#" class="hover:underline">Termos e Condi√ß√µes</a></li>
        </ul>
      </div>
      <div>
        <h4 class="font-bold mb-2">Redes Sociais</h4>
        <p><a href="#" class="hover:underline">Instagram</a></p>
        <p><a href="#" class="hover:underline">Facebook</a></p>
        <p><a href="#" class="hover:underline">Pinterest</a></p>
      </div>
      <div>
        <h4 class="font-bold mb-2">Formas de Pagamento</h4>
        <p>üí≥ Cart√µes | Pix | Boleto</p>
        <img src="https://www.mercadopago.com.br/org-img/MP3/home/logos/visa.gif" alt="Visa" class="inline w-10">
        <img src="https://www.mercadopago.com.br/org-img/MP3/home/logos/master.gif" alt="MasterCard" class="inline w-10">
        <img src="https://www.mercadopago.com.br/org-img/MP3/home/logos/pix.gif" alt="Pix" class="inline w-10">
      </div>
    </div>
    <p class="text-center mt-6 text-sm text-purple-200">¬© 2025 Mundo dos V√©us. Todos os direitos reservados.</p>
  </footer>

  <script type="module" src="/header.js"></script>
  <script>
    // Filtrar Produtos
    function filtrarProdutos(categoria, botaoClicado) {
      document.querySelectorAll('.produto').forEach(produto => {
        const cat = produto.dataset.categoria;
        produto.style.display = (categoria === 'todos' || cat === categoria) ? 'block' : 'none';
      });
  
      document.querySelectorAll('.filtro-btn').forEach(btn => {
        btn.classList.remove('bg-purple-700', 'text-white');
        btn.classList.add('bg-gray-200', 'text-gray-800');
      });
  
      botaoClicado.classList.add('bg-purple-700', 'text-white');
      botaoClicado.classList.remove('bg-gray-200', 'text-gray-800');
    }
  
    // Exibe todos os produtos ao carregar
    document.addEventListener('DOMContentLoaded', () => {
      document.querySelectorAll('.produto').forEach(produto => produto.style.display = 'block');
    });
  </script>
  
  <script>
    // Carrinho de Compras
    const carrinho = JSON.parse(localStorage.getItem("carrinho")) || [];
    const itensCarrinho = document.getElementById("itens-carrinho");
    const totalCarrinho = document.getElementById("total-carrinho");
    const carrinhoLateral = document.getElementById("carrinho-lateral");
    const fecharCarrinhoBtn = document.getElementById("fechar-carrinho");
  
    function adicionarAoCarrinho(produto) {
      const existente = carrinho.find(item => item.nome === produto.nome);
      if (existente) {
        existente.quantidade++;
      } else {
        carrinho.push({ ...produto, quantidade: 1 });
      }
      atualizarCarrinho();
      salvarCarrinho();
      exibirCarrinho();
    }
  
    function atualizarCarrinho() {
      itensCarrinho.innerHTML = "";
      let total = 0;
  
      carrinho.forEach((item, index) => {
        const subtotal = item.preco * item.quantidade;
        total += subtotal;
  
        const li = document.createElement("li");
        li.className = "flex justify-between items-center border-b pb-1";
        li.innerHTML = `
          <div>
            <p class="font-medium">${item.nome}</p>
            <small class="text-gray-500">Qtd: ${item.quantidade} x R$ ${item.preco.toFixed(2)}</small>
          </div>
          <strong class="text-purple-700">R$ ${subtotal.toFixed(2)}</strong>
          <div class="flex items-center space-x-2 ml-4">
            <button onclick="ajustarQuantidade(${index}, -1)" class="bg-gray-200 px-2 py-1 rounded hover:bg-gray-300">-</button>
            <span class="font-medium">${item.quantidade}</span>
            <button onclick="ajustarQuantidade(${index}, 1)" class="bg-gray-200 px-2 py-1 rounded hover:bg-gray-300">+</button>
          </div>
        `;
        itensCarrinho.appendChild(li);
      });
  
      totalCarrinho.textContent = total.toFixed(2);
    }
  
    function ajustarQuantidade(index, delta) {
      const item = carrinho[index];
      if (!item) return;
      item.quantidade += delta;
      if (item.quantidade < 1) {
        carrinho.splice(index, 1);
      }
      atualizarCarrinho();
      salvarCarrinho();
    }
  
    function salvarCarrinho() {
      localStorage.setItem("carrinho", JSON.stringify(carrinho));
    }
  
    function exibirCarrinho() {
      if (carrinho.length > 0) {
        carrinhoLateral.classList.remove("hidden");
      }
    }
  
    function fecharCarrinho() {
      carrinhoLateral.classList.add("hidden");
    }
  
    fecharCarrinhoBtn.addEventListener("click", fecharCarrinho);
  
    document.addEventListener('DOMContentLoaded', () => {
      atualizarCarrinho();
      if (carrinho.length > 0) {
        exibirCarrinho();
      }
      
      document.querySelectorAll('.adicionar-ao-carrinho').forEach(button => {
        button.addEventListener('click', () => {
          const nome = button.dataset.nome;
          const preco = parseFloat(button.dataset.preco);
          adicionarAoCarrinho({ nome, preco });
        });
      });
    });
  </script>
  
  
  <script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/9.22.2/firebase-app.js";
  import { getAuth, onAuthStateChanged, signOut } from "https://www.gstatic.com/firebasejs/9.22.2/firebase-auth.js";
  import { getFirestore, doc, getDoc } from "https://www.gstatic.com/firebasejs/9.22.2/firebase-firestore.js";

  // Configura√ß√£o do Firebase
  const firebaseConfig = {
    apiKey: "AIzaSyD9FSLA-EOGRgvDbbaBqBge7j8gRl4WJkI",
    authDomain: "loja-de-veus.firebaseapp.com",
    projectId: "loja-de-veus",
    storageBucket: "loja-de-veus.appspot.com",
    messagingSenderId: "907809130966",
    appId: "1:907809130966:web:800dae192863cddbc2fc77",
    measurementId: "G-XDRVKSRMQP"
  };

  // Inicializa√ß√£o do Firebase
  const app = initializeApp(firebaseConfig);
  const auth = getAuth(app);
  const db = getFirestore(app);

  // Refer√™ncias ao DOM
  const userInfoEl = document.getElementById("user-info");
  const loginLinkEl = document.getElementById("login-link");
  const saudacaoEl = document.getElementById("saudacao");
  const logoutBtnEl = document.getElementById("logout-link");
  const accountLinkEl = document.getElementById("account-link");

  // Verifica estado de autentica√ß√£o
  onAuthStateChanged(auth, async user => {
    if (user) {
      // Busca o nome do Firestore ou fallback
      let nome = user.displayName || "";
      try {
        const snap = await getDoc(doc(db, "usuarios", user.uid));
        if (snap.exists() && snap.data().nome) nome = snap.data().nome;
      } catch (e) {
        console.warn("Erro ao buscar nome:", e);
      }

      // Exibe as informa√ß√µes de login
      saudacaoEl.textContent = `Ol√°, ${nome || user.email.split("@")[0]}!`;
      userInfoEl.classList.remove("hidden");
      loginLinkEl.classList.add("hidden");
      accountLinkEl.classList.remove("hidden");
    } else {
      userInfoEl.classList.add("hidden");
      loginLinkEl.classList.remove("hidden");
      accountLinkEl.classList.add("hidden");
    }
  });

  // Fun√ß√£o de logout
  logoutBtnEl?.addEventListener("click", () => {
    signOut(auth)
      .then(() => window.location.href = "login.html")
      .catch(err => console.error(err));
  });
</script>

  
  

</body>
</html>